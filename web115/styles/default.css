/* web115/styles/default.noclass.css
   Desert Matcha — element-first, classless stylesheet.

   Purpose: provide the same visual design as default.css but focused on
   element and attribute selectors so pages can be classless. This file
   removes obvious duplication, consolidates dark-theme overrides, and
   keeps a few attribute fallbacks where markup changes are non-trivial.
*/

/* ---------- Base & Tokens (unchanged tokens) ---------- */
html { box-sizing: border-box; }

:root {
  --bg-base: #F7EAD9;
  --bg-grad-1: var(--bg-base);
  --bg-grad-2: var(--bg-base);
  --bg-grad-3: var(--bg-base);
  --surface: #FFFFFF;
  --text: #2F3A34;
  --accent: #5E7D62;
  --clay-glow: #B85B39;
  --accent-deep: #365746;
  --accent-soft: #92ABA6;
  --holiday-gold: #C9A84D;
  --holiday-cream: #FFF7E2;
  --holiday-gold-rgb: 201, 168, 77;

  --palette-sand: var(--bg-grad-1);
  --palette-surface: var(--surface);
  --palette-text: var(--text);
  --palette-accent: var(--accent);
  --palette-accent-deep: var(--accent-deep);
  --palette-mist: var(--accent-soft);
  --palette-clay: var(--clay-glow);
  --palette-holiday-cream: var(--holiday-cream);
  --palette-gold: var(--holiday-gold);

  --brand-heading: "Playfair Display", serif;
  --brand-body: "Inter", sans-serif;

  --content-width: 960px;
  --space-4: 1rem;
  --space-6: 1.5rem;
  --radius: 14px;
  --shadow: 0 10px 36px rgba(33, 36, 32, 0.10);
  --site-divider: rgba(54,87,70,0.08);
  --accent-rgb: 94, 125, 98;
  --accent-deep-rgb: 54, 87, 70;
  --text-rgb: 47, 58, 52;
  --focus-ring: rgba(var(--accent-rgb), 0.18);
  --bg-overlay-rgb: 245, 241, 236;
  --bg-overlay-strength: 0.06;
}

/* Global layout & typography */
html, body { height:100%; }
body {
  margin: 0;
  font-family: var(--brand-body);
  color: var(--text);
  line-height: 1.6;
  background:
    linear-gradient(rgba(var(--bg-overlay-rgb), var(--bg-overlay-strength)), rgba(var(--bg-overlay-rgb), var(--bg-overlay-strength))),
    linear-gradient(var(--bg-grad-1), var(--bg-grad-2), var(--bg-grad-3)),
    url("images/spa-bg.svg");
  background-size: cover;
  background-repeat: no-repeat;
  background-attachment: fixed;
  background-position: center;
}

/* Subtle vignette overlay */
body::after {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(1200px 600px at 50% 15%, rgba(0,0,0,0.03), transparent 40%), linear-gradient(transparent, rgba(0,0,0,0.01));
  mix-blend-mode: multiply;
  opacity: 0.32;
}

/* Container (element-first) */
main, [data-container] { max-width: var(--content-width); margin: 0 auto; padding: 0 var(--space-4); }

/* Header */
header {
  padding: calc(var(--space-4) + 0.5rem) 0;
  text-align: center;
  background: var(--surface);
  border-bottom: 1px solid var(--site-divider);
}
header h1, header h2 { font-family: var(--brand-heading); }
header h1 { font-weight: 800; font-size: clamp(1.8rem, 1.1rem + 2.2vw, 2.4rem); margin: 0;
  background: linear-gradient(90deg, var(--accent) 0%, var(--holiday-cream) 15%, rgba(var(--holiday-gold-rgb), 0.92) 55%);
  -webkit-background-clip: text; background-clip: text; color: transparent; text-shadow: 0 1px 0 rgba(255,255,255,0.35);
}
header h2 { font-weight: 700; margin: .5rem 0 0; }

/* Headings */
h1, h2, h3 { font-family: var(--brand-heading); line-height:1.2; margin: 0 0 var(--space-4); }
h1{ font-weight:800 }
h2{ font-weight:700 }
h3{ font-weight:700; font-size:1.15rem }

/* Navigation (element) */
nav { display:flex; flex-wrap:wrap; justify-content:center; gap: .5rem 1rem; margin-top:.5rem }
nav a { color: var(--accent-deep); text-decoration:none; padding:.4rem .75rem; border-radius:999px; transition: background-color 160ms ease, transform 120ms ease; }
nav a:hover, nav a:focus-visible { text-decoration: underline; background: rgba(var(--accent-deep-rgb), 0.08); transform: translateY(-1px); }
nav a[aria-current="page"] { background: var(--accent); color: var(--surface); font-weight:600; box-shadow: 0 0 0 2px rgba(var(--accent-deep-rgb), 0.08) inset, var(--shadow); }

/* Text & lists */
p, ul, ol, blockquote, figure { margin-block: var(--space-4); }
ul { list-style: disc; padding-left: 1.25rem; }

/* Links & buttons (element-first). Primary by default to keep markup classless */
a { color: var(--accent-deep); }
button, input[type="button"], input[type="submit"], a.button {
  background: var(--accent);
  color: var(--surface);
  border: none;
}

/* Secondary buttons: attribute helper */
[data-btn="secondary"] {
  background: transparent;
  color: var(--accent-deep);
  border: 2px solid var(--accent-soft);
  padding: 0.45rem 0.8rem;
  border-radius: 10px;
}

/* Focus outlines */
:focus { outline: 3px solid rgba(var(--accent-rgb), 0.18); outline-offset: 3px; }
:focus:not(:focus-visible) { outline: none; }

/* Imagery: rounded corners & soft shadows */
figure img, img { border-radius: 12px; box-shadow: 0 8px 24px rgba(var(--text-rgb), 0.08); }

@media (prefers-reduced-motion: reduce) {
  * { transition: none !important; animation: none !important; }
}

/* Buttons */
button {
  padding: 0.55rem 0.95rem; border-radius: 999px; font-weight: 600; background: var(--accent); color: var(--surface); border: none; cursor: pointer; box-shadow: var(--shadow);
}
button:hover, button:focus-visible { background: var(--accent-deep); transform: translateY(-1px); box-shadow: 0 10px 26px rgba(var(--text-rgb), 0.08); }

/* Primary variant (attribute) */
[data-btn="primary"], [data-btn^="primary"] { background: linear-gradient(90deg, var(--accent) 0%, rgba(var(--holiday-gold-rgb),0.85) 80%); color: var(--surface); padding-left:1.05rem; padding-right:1.05rem; box-shadow: 0 10px 28px rgba(var(--text-rgb), 0.09); }

/* Intro / hero card: attribute-based */
[data-intro] { box-sizing: border-box; max-width: min(980px, 92%); margin: 2.25rem auto 1.25rem; padding: 2.25rem 1.25rem; background: linear-gradient(180deg, rgba(var(--bg-overlay-rgb), 0.045), transparent); border-radius: calc(var(--radius) + 10px); border: 1px solid rgba(var(--accent-deep-rgb), 0.04); box-shadow: 0 20px 48px rgba(var(--text-rgb), 0.08), inset 0 1px 0 rgba(var(--accent-rgb), 0.02); }

/* Gold underline for headings */
h2, h3 { position: relative; }
h2::after, h3::after { content: ''; position: absolute; left: 50%; transform: translateX(-50%); bottom: -0.5rem; width: 3.6rem; height: 0.35rem; border-radius: 6px; background: linear-gradient(90deg, rgba(var(--holiday-gold-rgb), 0.95), rgba(var(--holiday-gold-rgb), 0.6)); box-shadow: 0 6px 18px rgba(var(--holiday-gold-rgb), 0.08); }

/* Blockquote */
blockquote { background: var(--accent-soft); color: var(--holiday-gold); padding: 1rem 1.25rem; border-left: 4px solid rgba(var(--holiday-gold-rgb), 0.6); border-radius: 8px; max-width: 64rem; margin: 1.25rem auto; text-align: center; font-size: 1.125rem; font-style: italic; }
blockquote cite { display:block; margin-top:.6rem; color: rgba(var(--text-rgb), 0.7); font-style: normal; }

/* Figures */
figure { margin: var(--space-6) auto; text-align:center; background: var(--surface); border-radius: var(--radius); padding: var(--space-4); box-shadow: var(--shadow); border: 1px solid rgba(var(--accent-deep-rgb), .12); }
figure img { display:block; max-width:min(100%,1200px); height:auto; border-radius:12px; margin:0 auto; box-shadow:0 8px 24px rgba(var(--text-rgb), 0.12); }
figcaption { margin-top:.75rem; font-size:.95rem; color:var(--accent-deep); }

/* Footer */
footer { padding: 2rem 0; margin-top: 3rem; text-align:center; border-top: 4px solid var(--accent); background-color: var(--clay-glow); color: var(--surface); }
footer a { color: var(--surface); }
footer p { font-size: .95rem; line-height:1.6; margin-bottom:1rem; }
footer a { color: var(--accent-deep); text-decoration:none; margin:0 .3rem; }
footer a:hover, footer a:focus-visible { color: var(--accent); text-decoration: underline; }
footer ul { list-style:none; margin: .5rem 0; padding:0; display:inline-flex; gap: .6rem .9rem; align-items:center; }
footer ul li { display:flex; align-items:center; }
footer ul li:not(:last-child)::after { content: '✶'; color: var(--holiday-gold); padding:0 .5rem; font-size: .9rem; line-height:1; display:inline-block; }

/* Dark theme consolidated (apply to .dark-theme on html) */
.dark-theme {
  --dark-bg: #0f211b;
  --dark-surface: #1b2621;
  --dark-text: #efece6;
  --dark-accent: #8fbf9e;
  --dark-accent-deep: #5f8f6f;
  --dark-accent-soft: #90b59a;
  --dark-gold: #cdb569;
  --holiday-gold-rgb: 205, 181, 105;

  --bg-base: var(--dark-bg);
  --bg-grad-1: #162824;
  --bg-grad-2: #101e1a;
  --bg-grad-3: #0b1512;
  --surface: var(--dark-surface);
  --text: #f6f4ef;
  --accent: var(--dark-accent);
  --accent-deep: var(--dark-accent-deep);
  --accent-soft: var(--dark-accent-soft);
  --holiday-gold: var(--dark-gold);
  --site-divider: rgba(21,36,30,0.6);
}

/* Focus ring stronger in dark mode */
.dark-theme :focus { outline: 3px solid rgba(159,189,167,0.22); outline-offset: 3px; }

/* Gold image borders (attribute-first) */
[data-gold], figure[data-gold] img, img[data-gold] { border: 6px solid var(--holiday-gold); border-radius: 12px; background-color: var(--holiday-cream); box-shadow: 0 4px 12px rgba(var(--holiday-gold-rgb), 0.3); padding: 0.5rem; }

/* Dark-mode gold shimmer consolidated */
.dark-theme [data-gold], .dark-theme img[data-gold], .dark-theme figure[data-gold] img {
  box-shadow: 0 12px 30px rgba(0,0,0,0.28), 0 0 18px rgba(var(--holiday-gold-rgb), 0.06) inset;
  animation: goldShimmerBorderDark 3.2s ease-in-out infinite;
  border-color: var(--holiday-gold);
}

@keyframes goldShimmerBorderDark {
  0% { box-shadow: 0 10px 22px rgba(0,0,0,0.22), 0 0 8px rgba(var(--holiday-gold-rgb), 0.04) inset; }
  50% { box-shadow: 0 18px 36px rgba(0,0,0,0.32), 0 0 18px rgba(var(--holiday-gold-rgb), 0.12) inset; }
  100% { box-shadow: 0 10px 22px rgba(0,0,0,0.22), 0 0 8px rgba(var(--holiday-gold-rgb), 0.04) inset; }
}

/* Dragon logo: consolidated animations and hover state */
.dark-theme .logo {
  filter: drop-shadow(0 0 3px rgba(var(--holiday-gold-rgb), 0.45)) drop-shadow(0 0 6px rgba(var(--holiday-gold-rgb), 0.28));
  animation: dragonShine 3.6s ease-in-out infinite;
}
.dark-theme .logo:hover, .dark-theme .logo:focus { filter: drop-shadow(0 0 8px rgba(var(--holiday-gold-rgb), 0.95)) drop-shadow(0 0 20px rgba(var(--holiday-gold-rgb), 0.6)); transition: filter 220ms ease; }

@keyframes dragonShine {
  0%, 100% { filter: drop-shadow(0 0 3px rgba(var(--holiday-gold-rgb), 0.6)) drop-shadow(0 0 8px rgba(var(--holiday-gold-rgb), 0.4)); }
  50% { filter: drop-shadow(0 0 5px rgba(var(--holiday-gold-rgb), 0.9)) drop-shadow(0 0 12px rgba(var(--holiday-gold-rgb), 0.6)); }
}

@media (prefers-reduced-motion: reduce) { .dark-theme .logo { animation: none; } }

/* Forms (FizzBuzz demo) - keep element/attribute based classless inputs */
.form-grid, [data-form-grid] { display: grid; gap: var(--space-4); max-width: 640px; margin-inline: auto; }
[data-field], .field { display: flex; flex-direction: column; margin-bottom: var(--space-4); }
[data-field] label, .field label { margin-bottom: var(--space-2); font-weight: 600; }

[data-field] input, .field input, input[type="text"], input[type="number"] {
  padding: 0.6rem 0.75rem; border: 2px solid var(--holiday-gold); border-radius: 10px; background: var(--surface); font: inherit; box-shadow: 0 1px 3px rgba(0,0,0,0.05); transition: border-color .2s ease, box-shadow .2s ease;
}
[data-field] input:focus, .field input:focus { outline: none; border-color: var(--accent); box-shadow: 0 0 0 3px rgba(var(--accent-rgb), 0.25); }

/* Small helpers and palette classes (optional) */
.site-title { margin: 0; line-height: 1.1; font-family: var(--brand-heading); font-weight: 800; letter-spacing: 0.2px; }
.site-title .line-1 { display:block; font-size: clamp(1.35rem, 1rem + 2vw, 2.1rem); }
.note-gold, .text-gold { color: var(--holiday-gold); }

.visually-hidden { position: absolute !important; height: 1px; width: 1px; overflow: hidden; clip: rect(1px, 1px, 1px, 1px); white-space: nowrap; border: 0; padding: 0; margin: -1px; }

/* Swatches (attribute-first) */
.swatches, [data-swatches] { display:flex; gap: .75rem 1rem; flex-wrap:wrap; align-items:center; padding:0; margin:0; list-style:none; }
.swatch, [data-swatches] li { display:flex; gap:.6rem; align-items:center; }
.color-box, [data-swatches] [data-swatch-color] { display:inline-block; width:2.4rem; height:2.4rem; border-radius:6px; box-shadow: 0 4px 12px rgba(0,0,0,0.06); }

/* Palette convenience helpers (optional) */
.palette-sand { background: var(--palette-sand); }
.palette-surface { background: var(--palette-surface); }
.palette-text { background: var(--palette-text); }
.palette-accent { background: var(--palette-accent); }
.palette-accent-deep { background: var(--palette-accent-deep); }
.palette-mist { background: var(--palette-mist); }
.palette-clay { background: var(--palette-clay); }
.palette-holiday-cream { background: var(--palette-holiday-cream); }
.palette-gold { background: var(--palette-gold); }

@media (max-width: 768px) { nav { flex-direction: column; } }

/* End of classless stylesheet */

